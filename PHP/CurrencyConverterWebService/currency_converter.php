<?php
/*
Cdigos de moneda ISO 4217
Cdigo	Moneda
AED	Dirham de los Emiratos rabes Unidos
AFN	Afgani afgano
ALL	Lek albano
AMD	Dram armenio
ANG	Florn de las Antillas Holandesas
AOA	Kwanza angoleo
ARS	Peso argentino
AUD	Dlar australiano
AWG	Florn arubeo
AZM	Manat azerbaiyano
BAM	marco convertible de Bosnia-Herzegovina
BBD	Dlar de Barbados
BDT	Taka de Bangladesh
BGN	Lev blgaro
BHD	Dinar bahrein
BIF	Franco burunds
BMD	Dlar de Bermuda
BND	Dlar de Brunei
BOB	Boliviano
BOV	Mvdol boliviano (cdigo de fondos)
BRL	Real brasileo
BSD	Dlar bahameo
BTN	Ngultrum de Butn
BWP	Pula de Botswana
BYR	Rublo bielorruso
BZD	Dlar de Belice
CAD	Dlar canadiense
CDF	Franco congoleo
CHF	Franco suizo
CLF	Unidades de fomento chilenas (cdigo de fondos)
CLP	Peso chileno
CNY	Yuan Renminbi de China
COP	Peso colombiano
COU	Unidad de valor real colombiana (aadida al COP)
CRC	Coln costarricense
CSD	Dinar serbio (It was replaced by RSD on October 25, 2006)
CUP	Peso cubano
CVE	Escudo caboverdiano
CYP	Libra chipriota
CZK	Koruna checo
DJF	Franco yibutiano
DKK	Corona danesa
DOP	Peso dominicano
DZD	Dinar algerino
EEK	Corona estonia
EGP	Libra egipcia
ERN	Nakfa eritreo
ETB	Birr etope
EUR	Euro
FJD	Dlar fijiano
FKP	Libra malvinense
GBP	Libra esterlina (libra de Gran Bretaa)
GEL	Lari georgiano
GHC	Cedi ghans
GIP	Libra de Gibraltar
GMD	Dalasi gambiano
GNF	Franco guineano
GTQ	Quetzal guatemalteco
GYD	Dlar guyans
HKD	Dlar de Hong Kong
HNL	Lempira hondureo
HRK	Kuna croata
HTG	Gourde haitiano
HUF	Forint hngaro
IDR	Rupiah indonesia
ILS	Nuevo shequel israel
INR	Rupia india
IQD	Dinar iraq
IRR	Rial iran
ISK	Krna islandesa
JMD	Dlar jamaicano
JOD	Dinar jordano
JPY	Yen japons
KES	Cheln keniata
KGS	Som kirgus (de Kirguistn)
KHR	Riel camboyano
KMF	Franco comoriano (de Comoras)
KPW	Won norcoreano
KRW	Won surcoreano
KWD	Dinar kuwait
KYD	Dlar caimano (de Islas Caimn)
KZT	Tenge kazajo (de Kazajstn)
LAK	Kip lao
LBP	Libra libanesa
LKR	Rupia de Sri Lanka
LRD	Dlar liberiano
LSL	Loti lesothense (de Lesotho)
LTL	Litas lituano
LVL	Lat letn
LYD	Dinar libio
MAD	Dirham marroqu
MDL	Leu moldavo
MGA	Ariary malgache (de Madagascar)
MKD	Denar macedonio
MMK	Kyat myanmaro
MNT	Tughrik mongol
MOP	Pataca de Macao
MRO	Ouguiya mauritana
MTL	Lira maltesa
MUR	Rupia mauricia
MVR	Rufiyaa maldiva
MWK	Kwacha malawiano
MXN	Peso mexicano
MXV	Unidad de Inversin (UDI) mexicana (cdigo de fondos)
MYR	Ringgit malayo
MZM	Metical mozambiqueo
NAD	Dlar namibio
NGN	Naira nigeriana
NIO	Crdoba nicaragense
NOK	Corona noruega
NPR	Rupia nepalesa
NZD	Dlar neozelands
OMR	Rial oman (de Omn)
PAB	Balboa panamea
PEN	Nuevo sol peruano
PGK	Kina de Papa Nueva Guinea
PHP	Peso filipino
PKR	Rupia pakistan
PLN	zloty polaco
PYG	Guaran paraguayo
QAR	Rial qatar
RON	Leu rumano (desde el 1 de julio de 2005)
RUB	Rublo ruso
RWF	Franco ruands
SAR	Riyal saud
SBD	Dlar de las Islas Salomn
SCR	Rupia de Seychelles
SDD	Dinar sudans
SEK	Corona sueca
SGD	Dlar de Singapur
SHP	Libra de Santa Helena
SKK	Corona eslovaca
SLL	Leone de Sierra Leona
SOS	Cheln somal
SRD	Dlar surinams (desde el 1 de enero de 2004)
STD	Dobra de Santo Tom y Prncipe
SYP	Libra siria
SZL	Lilangeni suazi (de Suazilandia)
THB	Baht tailands
TJS	Somoni tayik (de Tayikistn)
TMM	Manat turcomano
TND	Dinar tunecino
TOP	Paanga tongano
TRY	Nueva lira turca
TTD	Dlar de Trinidad y Tobago
TWD	Dlar taiwans
TZS	Cheln tanzano
UAH	Hryvnia ucraniana
UGX	Cheln ugands
USD	Dlar estadounidense
USN	Dlar estadounidense (Siguiente da) (cdigo de fondos)
USS	United States dollar (Mismo da) (cdigo de fondos)
UYU	Peso uruguayo
UZS	Som uzbeco
VEB	Bolvar venezolano
VEF	Bolvar fuerte venezolano
VND	Dong vietnamita
VUV	Vatu vanuatense
WST	Tala samoana
XAF	Franco CFA
XAG	Onza de plata
XAU	Onza de oro
XBA	European Composite Unit (EURCO) (Bonds market unit)
XBB	European Monetary Unit (E.M.U.-6) (Bonds market unit)
XBC	European Unit of Account 9 (E.U.A.-9) (Bonds market unit)
XBD	European Unit of Account 17 (E.U.A.-17) (Bonds market unit)
XCD	Dlar del Caribe Oriental
XDR	Special Drawing Rights (FMI)
XFO	Franco de oro (Special settlement currency)
XFU	Franco UIC (Special settlement currency)
XOF	Franco CFA
XPD	Onza de paladio
XPF	Franco CFP
XPT	Onza de platino
XTS	Reservado para pruebas
XXX	Sin divisa
YER	Rial yemen (de Yemen)
ZAR	Rand sudafricano
ZMK	Kwacha zambiano
ZWD	Dlar zimbabuense
*/
/**
 * Convierte un valor de una moneda a otra
 * @param $amount valor
 * @paran $master codigo de moneda origen enISO 4217
 * @paran $master codigo de moneda destino enISO 4217
 *
 * @return double valor convertido
 
*/
function currency_convert($amount, $master, $slave) {
	
	$googleCurrencyApi = 'http://www.google.com/ig/calculator?h1=en&q=';
	
    $result = file_get_contents($googleCurrencyApi . $amount . $master . '=?' . $slave);
    $result = str_replace("\xA0", ",", $result);
    $expl = explode('"', $result);

    if ($expl[3] == '') {
        throw new Exception('An error has occured.  Unable to get file contents');
    } else {	
			
		$a_expl3 = explode(" ", $expl[3]);
		$t_expl3 = $a_expl3[0];
		
		return $t_expl3;
    }
}

